% equihomotopy.sty
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{equihomotopy}[2023/10/27 Custom style for Equivariant Homotopy Book]

% --- 基础编码与字体 ---
\RequirePackage[utf8]{inputenc}
\RequirePackage[T1]{fontenc}
\RequirePackage{lmodern}
\RequirePackage[english]{babel}

% --- 页面布局 ---
\RequirePackage{geometry}
\geometry{
    a4paper,
    top=1in,
    bottom=1in,
    left=1.2in,
    right=1.2in,
    marginparwidth=0in
}

% --- 数学宏包 ---
\RequirePackage{amsmath, amssymb, amsthm, amsfonts, mathtools}
\RequirePackage{tikz-cd} % 交换图
\RequirePackage{mathrsfs} % 花体字

% --- 链接与引用 ---
\RequirePackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    citecolor=red,
    urlcolor=teal,
    pdftitle={Equivariant Homotopy and Cohomology Theory},
    pdfauthor={J.P. May}
}

% --- 页眉页脚 ---
\RequirePackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[LE,RO]{\thepage}
\fancyhead[CO]{\nouppercase{\rightmark}}
\fancyhead[CE]{\nouppercase{\leftmark}}
\renewcommand{\headrulewidth}{0.4pt}

% --- 定理环境设置 ---
\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[chapter]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{conjecture}[theorem]{Conjecture}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}
\newtheorem{exercise}[theorem]{Exercise}

\theoremstyle{remark}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{note}[theorem]{Note}

% --- 数学符号与算子定义 ---
% 根据书中内容常用符号
\newcommand{\G}{\mathcal{G}}        % Category G
\newcommand{\Orb}{\mathcal{O}}      % Orbit Category
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\F}{\mathbb{F}}
\newcommand{\underpi}{\underline{\pi}} % Underlined pi for coefficient systems

% 算子
\DeclareMathOperator{\Map}{Map}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\Ext}{Ext}
\DeclareMathOperator{\Tor}{Tor}
\DeclareMathOperator{\colim}{colim}
\DeclareMathOperator{\hocolim}{hocolim}
\DeclareMathOperator{\holim}{holim}
\DeclareMathOperator{\id}{id}

% 章节标题格式微调
\RequirePackage{titlesec}
\titleformat{\chapter}[display]
  {\normalfont\huge\bfseries}{\chaptertitlename\ \thechapter}{20pt}{\Huge}

\endinput